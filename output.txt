>>> Starting local agent ğŸ¤–
>>> Starting build ğŸ‘Ÿ
>>> Executing initial command: buildkite-agent pipeline upload
>>> Executing command step ğŸš Test using Buildkite's own Bats docker box

~~~ Preparing plugins
[90m# Plugin "github.com/buildkite-plugins/docker-buildkite-plugin" will be checked out to "/var/folders/g5/gldb9rfd6xv_6s5fh1x4w3840000gp/T/buildkite-plugins-387265933/github-com-buildkite-plugins-docker-buildkite-plugin-master"[0m
[90m# Switching to the temporary plugin directory[0m
[90m$[0m cd /var/folders/g5/gldb9rfd6xv_6s5fh1x4w3840000gp/T/buildkite-plugins-387265933/github-com-buildkite-plugins-docker-buildkite-plugin-master4204423397
[90m$[0m git clone -v --recursive -- https://github.com/buildkite-plugins/docker-buildkite-plugin .
Cloning into '.'...
POST git-upload-pack (193 bytes)
POST git-upload-pack (gzip 2370 to 1220 bytes)
remote: Enumerating objects: 1712, done.[K
remote: Counting objects:   0% (1/188)[Kremote: Counting objects:   1% (2/188)[Kremote: Counting objects:   2% (4/188)[Kremote: Counting objects:   3% (6/188)[Kremote: Counting objects:   4% (8/188)[Kremote: Counting objects:   5% (10/188)[Kremote: Counting objects:   6% (12/188)[Kremote: Counting objects:   7% (14/188)[Kremote: Counting objects:   8% (16/188)[Kremote: Counting objects:   9% (17/188)[Kremote: Counting objects:  10% (19/188)[Kremote: Counting objects:  11% (21/188)[Kremote: Counting objects:  12% (23/188)[Kremote: Counting objects:  13% (25/188)[Kremote: Counting objects:  14% (27/188)[Kremote: Counting objects:  15% (29/188)[Kremote: Counting objects:  16% (31/188)[Kremote: Counting objects:  17% (32/188)[Kremote: Counting objects:  18% (34/188)[Kremote: Counting objects:  19% (36/188)[Kremote: Counting objects:  20% (38/188)[Kremote: Counting objects:  21% (40/188)[Kremote: Counting objects:  22% (42/188)[Kremote: Counting objects:  23% (44/188)[Kremote: Counting objects:  24% (46/188)[Kremote: Counting objects:  25% (47/188)[Kremote: Counting objects:  26% (49/188)[Kremote: Counting objects:  27% (51/188)[Kremote: Counting objects:  28% (53/188)[Kremote: Counting objects:  29% (55/188)[Kremote: Counting objects:  30% (57/188)[Kremote: Counting objects:  31% (59/188)[Kremote: Counting objects:  32% (61/188)[Kremote: Counting objects:  33% (63/188)[Kremote: Counting objects:  34% (64/188)[Kremote: Counting objects:  35% (66/188)[Kremote: Counting objects:  36% (68/188)[Kremote: Counting objects:  37% (70/188)[Kremote: Counting objects:  38% (72/188)[Kremote: Counting objects:  39% (74/188)[Kremote: Counting objects:  40% (76/188)[Kremote: Counting objects:  41% (78/188)[Kremote: Counting objects:  42% (79/188)[Kremote: Counting objects:  43% (81/188)[Kremote: Counting objects:  44% (83/188)[Kremote: Counting objects:  45% (85/188)[Kremote: Counting objects:  46% (87/188)[Kremote: Counting objects:  47% (89/188)[Kremote: Counting objects:  48% (91/188)[Kremote: Counting objects:  49% (93/188)[Kremote: Counting objects:  50% (94/188)[Kremote: Counting objects:  51% (96/188)[Kremote: Counting objects:  52% (98/188)[Kremote: Counting objects:  53% (100/188)[Kremote: Counting objects:  54% (102/188)[Kremote: Counting objects:  55% (104/188)[Kremote: Counting objects:  56% (106/188)[Kremote: Counting objects:  57% (108/188)[Kremote: Counting objects:  58% (110/188)[Kremote: Counting objects:  59% (111/188)[Kremote: Counting objects:  60% (113/188)[Kremote: Counting objects:  61% (115/188)[Kremote: Counting objects:  62% (117/188)[Kremote: Counting objects:  63% (119/188)[Kremote: Counting objects:  64% (121/188)[Kremote: Counting objects:  65% (123/188)[Kremote: Counting objects:  66% (125/188)[Kremote: Counting objects:  67% (126/188)[Kremote: Counting objects:  68% (128/188)[Kremote: Counting objects:  69% (130/188)[Kremote: Counting objects:  70% (132/188)[Kremote: Counting objects:  71% (134/188)[Kremote: Counting objects:  72% (136/188)[Kremote: Counting objects:  73% (138/188)[Kremote: Counting objects:  74% (140/188)[Kremote: Counting objects:  75% (141/188)[Kremote: Counting objects:  76% (143/188)[Kremote: Counting objects:  77% (145/188)[Kremote: Counting objects:  78% (147/188)[Kremote: Counting objects:  79% (149/188)[Kremote: Counting objects:  80% (151/188)[Kremote: Counting objects:  81% (153/188)[Kremote: Counting objects:  82% (155/188)[Kremote: Counting objects:  83% (157/188)[Kremote: Counting objects:  84% (158/188)[Kremote: Counting objects:  85% (160/188)[Kremote: Counting objects:  86% (162/188)[Kremote: Counting objects:  87% (164/188)[Kremote: Counting objects:  88% (166/188)[Kremote: Counting objects:  89% (168/188)[Kremote: Counting objects:  90% (170/188)[Kremote: Counting objects:  91% (172/188)[Kremote: Counting objects:  92% (173/188)[Kremote: Counting objects:  93% (175/188)[Kremote: Counting objects:  94% (177/188)[Kremote: Counting objects:  95% (179/188)[Kremote: Counting objects:  96% (181/188)[Kremote: Counting objects:  97% (183/188)[Kremote: Counting objects:  98% (185/188)[Kremote: Counting objects:  99% (187/188)[Kremote: Counting objects: 100% (188/188)[Kremote: Counting objects: 100% (188/188), done.[K
remote: Compressing objects:   1% (1/87)[Kremote: Compressing objects:   2% (2/87)[Kremote: Compressing objects:   3% (3/87)[Kremote: Compressing objects:   4% (4/87)[Kremote: Compressing objects:   5% (5/87)[Kremote: Compressing objects:   6% (6/87)[Kremote: Compressing objects:   8% (7/87)[Kremote: Compressing objects:   9% (8/87)[Kremote: Compressing objects:  10% (9/87)[Kremote: Compressing objects:  11% (10/87)[Kremote: Compressing objects:  12% (11/87)[Kremote: Compressing objects:  13% (12/87)[Kremote: Compressing objects:  14% (13/87)[Kremote: Compressing objects:  16% (14/87)[Kremote: Compressing objects:  17% (15/87)[Kremote: Compressing objects:  18% (16/87)[Kremote: Compressing objects:  19% (17/87)[Kremote: Compressing objects:  20% (18/87)[Kremote: Compressing objects:  21% (19/87)[Kremote: Compressing objects:  22% (20/87)[Kremote: Compressing objects:  24% (21/87)[Kremote: Compressing objects:  25% (22/87)[Kremote: Compressing objects:  26% (23/87)[Kremote: Compressing objects:  27% (24/87)[Kremote: Compressing objects:  28% (25/87)[Kremote: Compressing objects:  29% (26/87)[Kremote: Compressing objects:  31% (27/87)[Kremote: Compressing objects:  32% (28/87)[Kremote: Compressing objects:  33% (29/87)[Kremote: Compressing objects:  34% (30/87)[Kremote: Compressing objects:  35% (31/87)[Kremote: Compressing objects:  36% (32/87)[Kremote: Compressing objects:  37% (33/87)[Kremote: Compressing objects:  39% (34/87)[Kremote: Compressing objects:  40% (35/87)[Kremote: Compressing objects:  41% (36/87)[Kremote: Compressing objects:  42% (37/87)[Kremote: Compressing objects:  43% (38/87)[Kremote: Compressing objects:  44% (39/87)[Kremote: Compressing objects:  45% (40/87)[Kremote: Compressing objects:  47% (41/87)[Kremote: Compressing objects:  48% (42/87)[Kremote: Compressing objects:  49% (43/87)[Kremote: Compressing objects:  50% (44/87)[Kremote: Compressing objects:  51% (45/87)[Kremote: Compressing objects:  52% (46/87)[Kremote: Compressing objects:  54% (47/87)[Kremote: Compressing objects:  55% (48/87)[Kremote: Compressing objects:  56% (49/87)[Kremote: Compressing objects:  57% (50/87)[Kremote: Compressing objects:  58% (51/87)[Kremote: Compressing objects:  59% (52/87)[Kremote: Compressing objects:  60% (53/87)[Kremote: Compressing objects:  62% (54/87)[Kremote: Compressing objects:  63% (55/87)[Kremote: Compressing objects:  64% (56/87)[Kremote: Compressing objects:  65% (57/87)[Kremote: Compressing objects:  66% (58/87)[Kremote: Compressing objects:  67% (59/87)[Kremote: Compressing objects:  68% (60/87)[Kremote: Compressing objects:  70% (61/87)[Kremote: Compressing objects:  71% (62/87)[Kremote: Compressing objects:  72% (63/87)[Kremote: Compressing objects:  73% (64/87)[Kremote: Compressing objects:  74% (65/87)[Kremote: Compressing objects:  75% (66/87)[Kremote: Compressing objects:  77% (67/87)[Kremote: Compressing objects:  78% (68/87)[Kremote: Compressing objects:  79% (69/87)[Kremote: Compressing objects:  80% (70/87)[Kremote: Compressing objects:  81% (71/87)[Kremote: Compressing objects:  82% (72/87)[Kremote: Compressing objects:  83% (73/87)[Kremote: Compressing objects:  85% (74/87)[Kremote: Compressing objects:  86% (75/87)[Kremote: Compressing objects:  87% (76/87)[Kremote: Compressing objects:  88% (77/87)[Kremote: Compressing objects:  89% (78/87)[Kremote: Compressing objects:  90% (79/87)[Kremote: Compressing objects:  91% (80/87)[Kremote: Compressing objects:  93% (81/87)[Kremote: Compressing objects:  94% (82/87)[Kremote: Compressing objects:  95% (83/87)[Kremote: Compressing objects:  96% (84/87)[Kremote: Compressing objects:  97% (85/87)[Kremote: Compressing objects:  98% (86/87)[Kremote: Compressing objects: 100% (87/87)[Kremote: Compressing objects: 100% (87/87), done.[K
Receiving objects:   0% (1/1712)Receiving objects:   1% (18/1712)Receiving objects:   2% (35/1712)Receiving objects:   3% (52/1712)Receiving objects:   4% (69/1712)Receiving objects:   5% (86/1712)Receiving objects:   6% (103/1712)Receiving objects:   7% (120/1712)Receiving objects:   8% (137/1712)Receiving objects:   9% (155/1712)Receiving objects:  10% (172/1712)Receiving objects:  11% (189/1712)Receiving objects:  12% (206/1712)Receiving objects:  13% (223/1712)Receiving objects:  14% (240/1712)Receiving objects:  15% (257/1712)Receiving objects:  16% (274/1712)Receiving objects:  17% (292/1712)Receiving objects:  18% (309/1712)Receiving objects:  19% (326/1712)Receiving objects:  20% (343/1712)Receiving objects:  21% (360/1712)Receiving objects:  22% (377/1712)Receiving objects:  23% (394/1712)Receiving objects:  24% (411/1712)Receiving objects:  25% (428/1712)Receiving objects:  26% (446/1712)Receiving objects:  27% (463/1712)Receiving objects:  28% (480/1712)Receiving objects:  29% (497/1712)Receiving objects:  30% (514/1712)Receiving objects:  31% (531/1712)Receiving objects:  32% (548/1712)Receiving objects:  33% (565/1712)Receiving objects:  34% (583/1712)Receiving objects:  35% (600/1712)Receiving objects:  36% (617/1712)Receiving objects:  37% (634/1712)Receiving objects:  38% (651/1712)Receiving objects:  39% (668/1712)Receiving objects:  40% (685/1712)Receiving objects:  41% (702/1712)Receiving objects:  42% (720/1712)Receiving objects:  43% (737/1712)Receiving objects:  44% (754/1712)Receiving objects:  45% (771/1712)Receiving objects:  46% (788/1712)Receiving objects:  47% (805/1712)Receiving objects:  48% (822/1712)Receiving objects:  49% (839/1712)Receiving objects:  50% (856/1712)Receiving objects:  51% (874/1712)Receiving objects:  52% (891/1712)Receiving objects:  53% (908/1712)Receiving objects:  54% (925/1712)Receiving objects:  55% (942/1712)Receiving objects:  56% (959/1712)Receiving objects:  57% (976/1712)Receiving objects:  58% (993/1712)Receiving objects:  59% (1011/1712)Receiving objects:  60% (1028/1712)Receiving objects:  61% (1045/1712)Receiving objects:  62% (1062/1712)Receiving objects:  63% (1079/1712)Receiving objects:  64% (1096/1712)Receiving objects:  65% (1113/1712)Receiving objects:  66% (1130/1712)Receiving objects:  67% (1148/1712)Receiving objects:  68% (1165/1712)Receiving objects:  69% (1182/1712)Receiving objects:  70% (1199/1712)Receiving objects:  71% (1216/1712)Receiving objects:  72% (1233/1712)Receiving objects:  73% (1250/1712)Receiving objects:  74% (1267/1712)Receiving objects:  75% (1284/1712)Receiving objects:  76% (1302/1712)Receiving objects:  77% (1319/1712)Receiving objects:  78% (1336/1712)Receiving objects:  79% (1353/1712)Receiving objects:  80% (1370/1712)Receiving objects:  81% (1387/1712)Receiving objects:  82% (1404/1712)Receiving objects:  83% (1421/1712)Receiving objects:  84% (1439/1712)Receiving objects:  85% (1456/1712)Receiving objects:  86% (1473/1712)Receiving objects:  87% (1490/1712)Receiving objects:  88% (1507/1712)Receiving objects:  89% (1524/1712)Receiving objects:  90% (1541/1712)Receiving objects:  91% (1558/1712)Receiving objects:  92% (1576/1712)Receiving objects:  93% (1593/1712)Receiving objects:  94% (1610/1712)Receiving objects:  95% (1627/1712)Receiving objects:  96% (1644/1712)remote: Total 1712 (delta 122), reused 113 (delta 98), pack-reused 1524[K
Receiving objects:  97% (1661/1712)Receiving objects:  98% (1678/1712)Receiving objects:  99% (1695/1712)Receiving objects: 100% (1712/1712)Receiving objects: 100% (1712/1712), 424.94 KiB | 884.00 KiB/s, done.
Resolving deltas:   0% (0/855)Resolving deltas:   1% (10/855)Resolving deltas:   2% (18/855)Resolving deltas:   3% (26/855)Resolving deltas:   4% (35/855)Resolving deltas:   5% (43/855)Resolving deltas:   6% (52/855)Resolving deltas:   7% (61/855)Resolving deltas:   8% (69/855)Resolving deltas:   9% (77/855)Resolving deltas:  10% (86/855)Resolving deltas:  11% (95/855)Resolving deltas:  12% (103/855)Resolving deltas:  13% (112/855)Resolving deltas:  14% (120/855)Resolving deltas:  15% (129/855)Resolving deltas:  16% (137/855)Resolving deltas:  17% (146/855)Resolving deltas:  18% (154/855)Resolving deltas:  19% (165/855)Resolving deltas:  20% (172/855)Resolving deltas:  21% (180/855)Resolving deltas:  22% (189/855)Resolving deltas:  23% (197/855)Resolving deltas:  24% (206/855)Resolving deltas:  25% (214/855)Resolving deltas:  26% (223/855)Resolving deltas:  27% (231/855)Resolving deltas:  28% (240/855)Resolving deltas:  29% (249/855)Resolving deltas:  30% (259/855)Resolving deltas:  31% (266/855)Resolving deltas:  32% (274/855)Resolving deltas:  33% (284/855)Resolving deltas:  34% (292/855)Resolving deltas:  35% (300/855)Resolving deltas:  36% (308/855)Resolving deltas:  37% (318/855)Resolving deltas:  38% (325/855)Resolving deltas:  39% (335/855)Resolving deltas:  40% (343/855)Resolving deltas:  41% (351/855)Resolving deltas:  42% (360/855)Resolving deltas:  43% (368/855)Resolving deltas:  44% (378/855)Resolving deltas:  45% (385/855)Resolving deltas:  46% (394/855)Resolving deltas:  47% (403/855)Resolving deltas:  48% (411/855)Resolving deltas:  49% (419/855)Resolving deltas:  50% (428/855)Resolving deltas:  51% (437/855)Resolving deltas:  52% (445/855)Resolving deltas:  53% (454/855)Resolving deltas:  54% (462/855)Resolving deltas:  55% (471/855)Resolving deltas:  56% (479/855)Resolving deltas:  57% (489/855)Resolving deltas:  58% (496/855)Resolving deltas:  59% (506/855)Resolving deltas:  60% (515/855)Resolving deltas:  61% (522/855)Resolving deltas:  62% (531/855)Resolving deltas:  63% (539/855)Resolving deltas:  64% (548/855)Resolving deltas:  65% (556/855)Resolving deltas:  66% (566/855)Resolving deltas:  67% (575/855)Resolving deltas:  68% (583/855)Resolving deltas:  69% (590/855)Resolving deltas:  70% (599/855)Resolving deltas:  71% (609/855)Resolving deltas:  72% (616/855)Resolving deltas:  73% (625/855)Resolving deltas:  74% (633/855)Resolving deltas:  75% (642/855)Resolving deltas:  76% (651/855)Resolving deltas:  77% (660/855)Resolving deltas:  78% (668/855)Resolving deltas:  79% (677/855)Resolving deltas:  80% (684/855)Resolving deltas:  81% (693/855)Resolving deltas:  82% (702/855)Resolving deltas:  83% (712/855)Resolving deltas:  84% (719/855)Resolving deltas:  85% (727/855)Resolving deltas:  86% (736/855)Resolving deltas:  87% (744/855)Resolving deltas:  88% (754/855)Resolving deltas:  89% (761/855)Resolving deltas:  90% (770/855)Resolving deltas:  91% (779/855)Resolving deltas:  92% (788/855)Resolving deltas:  93% (797/855)Resolving deltas:  94% (804/855)Resolving deltas:  95% (814/855)Resolving deltas:  96% (822/855)Resolving deltas:  97% (830/855)Resolving deltas:  98% (838/855)Resolving deltas:  99% (847/855)Resolving deltas: 100% (855/855)Resolving deltas: 100% (855/855), done.
[90m# Checking out `master`[0m
[90m$[0m git checkout -f master
Already on 'master'
Your branch is up to date with 'origin/master'.
[90m# Moving temporary plugin directory to final location[0m
[90m$[0m cd /private/var/folders/g5/gldb9rfd6xv_6s5fh1x4w3840000gp/T/buildkite-build-363712870
[90m$[0m cd /Users/frank.peng/Repos/experiments/sample-bats-repo-buildkite-plugin

~~~ Running plugin docker command hook
[90m$[0m /var/folders/g5/gldb9rfd6xv_6s5fh1x4w3840000gp/T/buildkite-plugins-387265933/github-com-buildkite-plugins-docker-buildkite-plugin-master/hooks/command

--- :docker: Running command in buildkite/plugin-tester:latest
[90m$[0m docker run -t -i --rm --init --volume /Users/frank.peng/Repos/experiments/sample-bats-repo-buildkite-plugin:/plugin --workdir /plugin --label com.buildkite.job-id=b89a59c8-b32c-43f6-9c6d-89f3c5e9c236 buildkite/plugin-tester:latest /bin/sh -e -c bats\ tests/ 
WARNING: The requested image's platform (linux/amd64) does not match the detected host platform (linux/arm64/v8) and no specific platform was requested
[34;1mpre-command.bats
[0m[1G   Checking criteria output of pre-command hook is working correctly[K[77G1/2[2G[1G âœ“ Checking criteria output of pre-command hook is working correctly[K
[0m[1G   Ensure result of pre-command hook is correct[K[77G2/2[2G[1G âœ“ Ensure result of pre-command hook is correct[K
[0m[32;1m
2 tests, 0 failures
[0m

~~~ Running plugin docker pre-exit hook
[90m$[0m /var/folders/g5/gldb9rfd6xv_6s5fh1x4w3840000gp/T/buildkite-plugins-387265933/github-com-buildkite-plugins-docker-buildkite-plugin-master/hooks/pre-exit

>>> Command succeeded in 7.055622792s
>>> Build finished in 7.055643667s
